<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../iron-ajax/iron-ajax.html">
<link rel="import" href="../dsc-polymer-image-upload.html">

<dom-module id="dsc-polymer-image-upload-basic">
  <template>
    <style>
      :host {

      }

      #container {
        display: block;
        width: 700px;
        margin: 0 auto;

        background-color: #ffffff;
        padding: 16px 30px;
        margin-bottom: 25px;
        @apply(--shadow-elevation-2dp);
      }
    </style>

    <iron-ajax auto url="api-example.json" handle-as="json" on-response="onResponse"></iron-ajax>

    <div id="container">

      <dsc-polymer-image-upload
        id="my-component"
        max-files="10"
        aspect-ratio="4:3"
        max-width="3840"
        max-height="2160">
      </dsc-polymer-image-upload>

    </div>

    <br>
    <input type="button" value="isValid()" on-tap="_isValid" />
    <input type="button" value="getData()" on-tap="_getData"/>
    <p><small>Result displayed on the console...</small></p>


  </template>

  <script>
    Polymer({
      is: 'dsc-polymer-image-upload-basic',

      // set exitent data
      onResponse: function(response) {
        var data = response.detail.response;
        this.$$('#my-component').setData(data);
      },

      // verify if is valid
      _isValid: function() {
        console.log(this.$$('#my-component').isValid());
      },

      // get data of component
      _getData: function() {
        console.log(this.$$('#my-component').getData());
      },
    });
  </script>
</dom-module>